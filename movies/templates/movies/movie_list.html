<!-- Recap: This file is used to define the HTML template for displaying the list of movies by genre.
     The template will display a dropdown to select a genre and a list of movies for the selected genre.
     Each movie title will be a link to the movie details page.
     Changes: 31/12/2024
     In this file, we define the HTML structure for displaying the list of movies by genre.
     The dropdown will allow the user to select a genre.
     The list of movies will display the title, rating, and release date of each movie.
     The title of each movie will be a link to the movie details page. -->

<h1>Movies by Genre</h1>

<form method="get" action="{% url 'movie_list' %}">
    <label for="genre">Select Genre:</label>
    <select name="genre_id" id="genre" onchange="this.form.submit()">
        <option value="">--Select Genre--</option>
        {% for genre in genres %}
            <option value="{{ genre.id }}" {% if genre.id == selected_genre_id %}selected{% endif %}>
                {{ genre.name }}
            </option>
        {% endfor %}
    </select>
</form>

<ul>
    {% for movie in movies %}
        <li>
            <h2><a href="{% url 'movie_details' movie.id %}">{{ movie.title }}</a></h2>
            <p>Rating: {{ movie.rating }}</p>
            <p>Release Date: {{ movie.release_date }}</p>
        </li>
    {% empty %}
        <p>No movies found for the selected genre.</p>
    {% endfor %}
</ul>

